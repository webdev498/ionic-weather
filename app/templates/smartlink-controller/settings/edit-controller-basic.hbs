<header class="bar bar-nav weathermatic-header">
  {{#link-to 'smartlink-controller.settings.index' model class='btn btn-link btn-nav pull-left'}}
    <span class="icon icon-left-nav"></span>
  {{/link-to}}

  <h1 class="title">{{fa-icon 'gear'}} Basic Settings</h1>
</header>

<div class="content weathermatic-content">
  {{need-send-message smartlinkController=model transmit='transmit'}}

  <ul class="table-view">
    <li class="table-view-cell">
      <span>Date</span>
      <span class="pull-right weathermatic-settings-date">
        {{input type='date' value=deviceTimeDate}}
      </span>
    </li>
    <li class="table-view-cell">
      <span>Time</span>
      <span class="pull-right weathermatic-settings-input-time">
        {{view 'select' content=availableHours value=deviceTimeHours
          optionLabelPath='content.label' optionValuePath='content.value'}} :

        {{view 'select' content=availableMinutes value=deviceTimeMinutes
          optionLabelPath='content.label' optionValuePath='content.value'}} :

        {{model.deviceTimeSeconds}}

        {{view 'select' content=availableAmPm value=deviceTimeAmPm
          optionLabelPath='content.label' optionValuePath='content.value'}}
      </span>
    </li>
    <li class="table-view-cell">
      <span>Controller Time Zone</span>
      <span class="pull-right weathermatic-settings-input-large">
        {{view 'select' content=availableTimezones value=model.timezone
          optionLabelPath='content.label' optionValuePath='content.value'}}
      </span>
    </li>
    <li class="table-view-cell">
      <span>Run Status</span>
      <span class="pull-right weathermatic-settings-input-large">
        {{view 'select' content=availableRunStatuses value=model.runStatus
          optionLabelPath='content.label' optionValuePath='content.value'}}
      </span>
    </li>
    <li class="table-view-cell">
      <span>Watering Mode</span>
      <span class="pull-right weathermatic-settings-input-large">
        {{view 'select' content=availableWateringModes value=model.wateringMode
          optionLabelPath='content.label' optionValuePath='content.value'}}
      </span>
    </li>
    <li class="table-view-cell">
      <span>Rain/Freeze</span>
      <span class="pull-right weathermatic-settings-input-large">
        {{view 'select' content=availableRainFreeze value=model.rainFreezeSensorMode
          optionLabelPath='content.label' optionValuePath='content.value'}}
      </span>
    </li>
  </ul>
  <div class="content-padded">
    <button class="btn btn-block btn-positive" {{action 'save'}}>
      {{fa-icon 'save'}} Save Changes
    </button>
  </div>
</div>

{{!
  `actionReceiver` attribute exposes component action to the outside world.
  Uses this add-on: https://github.com/GavinJoyce/ember-component-inbound-actions
}}
{{loading-modal actionReceiver=loadingModal loadingFinished='loadingFinished' loadingAbandoned='loadingAbandoned'}}
