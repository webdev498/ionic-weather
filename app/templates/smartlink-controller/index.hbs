<header class="bar bar-nav">
  {{#link-to 'site' class='btn btn-link btn-nav pull-left'}}
    <span class="icon icon-left-nav"></span>
  {{/link-to}}
  <h1 class="title">{{fa-icon 'signal'}} {{short-text model.site.name size=15}} - {{short-text model.name size=15}}</h1>
  <a href="javascript:void(0)" class="icon icon-refresh pull-right"></a>
</header>


<div class="content">
  <div class="content-padded">
    <div class="card">
      <ul class="table-view">
        <li class="table-view-cell table-view-divider">
          {{fa-icon 'wrench'}} Actions
        </li>
        <li class="table-view-cell">
          {{#link-to 'smartlink-controller.select-program' class='push-right'}}
            {{fa-icon 'play'}} Run Program
          {{/link-to}}
        </li>
        <li class="table-view-cell">
          {{#link-to 'smartlink-controller.select-zone' class='push-right'}}
            {{fa-icon 'leaf'}} Run Zone
            {{/link-to}}
        </li>
        <li class="table-view-cell">
          {{#link-to 'smartlink-controller.select-valves' class='push-right'}}
            {{fa-icon 'crosshairs'}} Locate Valve
          {{/link-to}}
        </li>
        <li class="table-view-cell">
          {{#link-to 'smartlink-controller.walk-site' class='push-right'}}
            {{fa-icon 'male'}} Walk Site
          {{/link-to}}
        </li>
      </ul>
    </div>

    {{#link-to 'smartlink-controller.stop-all' class='btn btn-block btn-negative'}}
      {{fa-icon 'stop'}} Stop All
    {{/link-to}}
  </div>

  <ul class="table-view">
    <li class="table-view-cell table-view-divider">
      {{fa-icon 'gears'}} Controller Details
    </li>
    <li class="table-view-cell">
      Status
      {{#if model.isRunning}}
        <button class="btn btn-positive">Running</button>
      {{else}}
        <button class="btn btn-primary">Stopped</button>
      {{/if}}
    </li>
    <li class="table-view-cell">
      Watering Mode
      {{#if model.isSmartWateringMode}}
        <button class="btn btn-positive">Smart</button>
      {{else}}
        <button class="btn btn-primary">Manual</button>
      {{/if}}
    </li>
    <li class="table-view-cell">
      Rain/Freeze
      {{#if model.isRainFreezeSensorEnabled}}
        <button class="btn btn-positive">Active</button>
      {{else}}
        <button class="btn btn-negative">Bypass</button>
      {{/if}}
    </li>
    <li class="table-view-cell">
      Weather
      {{#if model.weather.length}}
        <button {{bind-attr class='model.isWeatherBad:btn-negative:btn-positive :btn'}}>
          {{model.weather}}
        </button>
      {{/if}}
    </li>

    {{#if model.faults.length}}
      <li class="table-view-cell table-view-divider">
        {{fa-icon 'warning'}} Faults <span class="badge badge-negative">{{model.faults.length}}</span>
      </li>
    {{/if}}
  </ul>

  {{#if model.faults.length}}
    <div class="content-padded weathermatic-controller-details-faults">
      {{#each fault in model.faults}}
        <button class="btn btn-negative">{{fault.description}}</button>
      {{/each}}
      {{#link-to 'smartlink-controller.clear-faults' class='btn btn-block btn-primary'}}
        {{fa-icon 'fa-refresh'}} Clear Faults
      {{/link-to}}
    </div>
  {{/if}}
</div>
