<header class="bar bar-nav weathermatic-header weathermatic-left-nav-only">
  {{#link-to 'smartlink-controller.select-valves' class='btn btn-link btn-nav pull-left'}}
    <span class="icon icon-left-nav"></span>
  {{/link-to}}
  <h1 class="title">
    {{fa-icon 'signal'}} {{short-text model.smartlinkController.name size=15}} - Locate Valves
  </h1>
</header>

<div class="content weathermatic-content">
  <ul class="table-view">
    <li class="table-view-cell table-view-divider">
      Confirm Zone
    </li>
    <li class="table-view-cell">
      Site <button class="btn"> {{fa-icon 'building'}}
        {{model.smartlinkController.site.name}}</button>
    </li>
    <li class="table-view-cell">
      Controller <button class="btn"> {{fa-icon 'signal'}}
        {{model.smartlinkController.name}}</button>
    </li>
  </ul>

  <div class="content-padded weathermatic-height-100-percent">
    <p>About to run valve locators</p>

    <span class="btn btn-block">
      {{#if model.description}}
        <h3>{{fa-icon 'leaf'}} {{short-text model.description size=20}}</h3>
        <p>Locate Zone {{model.number}}</p>
      {{else}}
        <h3>{{fa-icon 'leaf'}} Locate Zone {{model.number}}</h3>
      {{/if}}
    </span>

    <p>Ready?</p>

    <div class="warning-message">
      <p>The water must be be turned off at the backflow device or isolation valve upstream of the zone valve in order to fully utilize the Valve Locator feature of the SmartLine irrigation controller.</p>
    </div>

    <button class="btn btn-block btn-positive" {{action 'locateValves'}}>
      {{fa-icon 'check'}} Go!
    </button>

    {{#link-to 'smartlink-controller' class='btn btn-block btn-negative'}}
      {{fa-icon 'times-circle'}} Cancel
    {{/link-to}}
  </div>
</div>

{{!
  `actionReceiver` attribute exposes component action to the outside world.
  Uses this add-on: https://github.com/GavinJoyce/ember-component-inbound-actions
}}
{{loading-modal actionReceiver=loadingModal loadingFinished='loadingFinished' loadingAbandoned='loadingAbandoned'}}
